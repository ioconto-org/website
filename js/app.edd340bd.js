(function(t){function e(e){for(var a,r,s=e[0],l=e[1],c=e[2],d=0,u=[];d<s.length;d++)r=s[d],Object.prototype.hasOwnProperty.call(i,r)&&i[r]&&u.push(i[r][0]),i[r]=0;for(a in l)Object.prototype.hasOwnProperty.call(l,a)&&(t[a]=l[a]);p&&p(e);while(u.length)u.shift()();return n.push.apply(n,c||[]),o()}function o(){for(var t,e=0;e<n.length;e++){for(var o=n[e],a=!0,s=1;s<o.length;s++){var l=o[s];0!==i[l]&&(a=!1)}a&&(n.splice(e--,1),t=r(r.s=o[0]))}return t}var a={},i={app:0},n=[];function r(e){if(a[e])return a[e].exports;var o=a[e]={i:e,l:!1,exports:{}};return t[e].call(o.exports,o,o.exports,r),o.l=!0,o.exports}r.m=t,r.c=a,r.d=function(t,e,o){r.o(t,e)||Object.defineProperty(t,e,{enumerable:!0,get:o})},r.r=function(t){"undefined"!==typeof Symbol&&Symbol.toStringTag&&Object.defineProperty(t,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(t,"__esModule",{value:!0})},r.t=function(t,e){if(1&e&&(t=r(t)),8&e)return t;if(4&e&&"object"===typeof t&&t&&t.__esModule)return t;var o=Object.create(null);if(r.r(o),Object.defineProperty(o,"default",{enumerable:!0,value:t}),2&e&&"string"!=typeof t)for(var a in t)r.d(o,a,function(e){return t[e]}.bind(null,a));return o},r.n=function(t){var e=t&&t.__esModule?function(){return t["default"]}:function(){return t};return r.d(e,"a",e),e},r.o=function(t,e){return Object.prototype.hasOwnProperty.call(t,e)},r.p="/";var s=window["webpackJsonp"]=window["webpackJsonp"]||[],l=s.push.bind(s);s.push=e,s=s.slice();for(var c=0;c<s.length;c++)e(s[c]);var p=l;n.push(["02bb","chunk-vendors"]),o()})({"02bb":function(t,e,o){"use strict";o.r(e);var a=o("2b0e"),i=o("58ca"),n=function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("div",[a("b-navbar",{staticClass:"d-flex",attrs:{variant:"light",type:"light"}},[a("b-navbar-brand",{attrs:{href:"#"}},[a("img",{attrs:{src:o("8e02")}})]),a("VueBootstrapTypeahead",{staticClass:"flex-grow-1",staticStyle:{"z-index":"1000"},attrs:{data:t.locations,serializer:function(t){return t.name},placeholder:"Ricerca per comune",size:"lg"},on:{hit:function(e){return t.select()}},model:{value:t.selection,callback:function(e){t.selection=e},expression:"selection"}}),a("b-modal",{attrs:{title:"Nessun Dato","ok-only":"",id:"anpr"}},[a("p",[t._v(" Il comune di "+t._s(t.displayName)+", pur facendo parte dell'Anagrafe Nazionale ("),a("a",{attrs:{href:"https://www.anpr.interno.it/portale/",target:"_blank"}},[t._v("ANPR")]),t._v("), "),a("b",[t._v("non è stato incluso dall'Istat")]),t._v(" nell'elenco che ha "),a("a",{attrs:{href:"https://www.istat.it/it/archivio/240401",target:"_blank"}},[t._v("pubblicato")]),t._v(". In teoria potrebbe essere una buona notizia, ma nella realtà i dati del tuo comune potrebbero essere negativi: aiutaci, cercando chi li detiene e segnalali con "),a("a",{attrs:{href:"https://docs.google.com/forms/d/e/1FAIpQLSe_gJ1vM_2WXYkCNoyGwWRjLJcSlvEf9DwZAfpwR3IXLqbwSw/viewform",target:"_blank"}},[t._v("questa form")])])]),a("b-modal",{attrs:{title:"Nessun Dato","ok-only":"",id:"no-anpr"}},[a("p",[t._v(" Il comune di "+t._s(t.displayName)+" "),a("b",[t._v("non aderisce all'Anagrafe Nazionale ("),a("a",{attrs:{href:"https://www.anpr.interno.it/portale/",target:"_blank"}},[t._v("ANPR")]),t._v(")")]),t._v(" e di conseguenza l'Istat non può "),a("a",{attrs:{href:"https://www.istat.it/it/archivio/240401",target:"_blank"}},[t._v("pubblicare")]),t._v(" i suoi dati. Aiutaci, cercando chi li detiene per il tuo comune e segnalali con "),a("a",{attrs:{href:"https://docs.google.com/forms/d/e/1FAIpQLSe_gJ1vM_2WXYkCNoyGwWRjLJcSlvEf9DwZAfpwR3IXLqbwSw/viewform",target:"_blank"}},[t._v("questa form")])])]),a("b-navbar-nav",{staticClass:"ml-auto",attrs:{pills:""}},[a("b-nav-item",{directives:[{name:"b-modal",rawName:"v-b-modal.info-modal",modifiers:{"info-modal":!0}}]},[t._v("Chi siamo")]),a("b-modal",{attrs:{title:"Chi siamo",id:"info-modal"}},[a("p",[t._v(" In Italia e nel Mondo abbiamo di fronte un futuro incerto. Perché questo futuro possa essere indirizzato in senso positivo, è necessario che si prendano ora decisioni basate sulla analisi di dati completi, verificati e che siano stati raccolti in modo omogeneo relativamente alla diffusione delle infezioni, ospedalizzazioni e decessi causati dal virus SARS-Cov-2. IoConto vuole fornire, a tutti gli enti e anche a singoli individui, un sistema semplice da usare, efficiente, pubblico per raccogliere i dati, normalizzarli e distribuirli a chiunque ne abbia bisogno al fine di disegnare scenari, prendere decisioni oculate e informare. "),a("a",{attrs:{target:"_blank",href:"https://github.com/ioconto/covid19"}},[t._v("Uniti ce la faremo.")])])]),a("b-nav-item",{attrs:{target:"_blank",href:"https://medium.com/ioconto"}},[t._v("Blog")])],1)],1),t._m(0),a("Map",{attrs:{names:t.names,flyTo:t.loc.coordinates}})],1)},r=[function(){var t=this,e=t.$createElement,o=t._self._c||e;return o("div",{staticClass:"nav-buttons"},[o("a",{attrs:{href:"https://docs.google.com/forms/d/e/1FAIpQLSe_gJ1vM_2WXYkCNoyGwWRjLJcSlvEf9DwZAfpwR3IXLqbwSw/viewform"}},[o("button",{staticClass:"btn btn-primary m-2"},[t._v("Segnala Dati Comunali")])]),o("a",{attrs:{href:"https://docs.google.com/forms/d/e/1FAIpQLSfbs90muj6Fe30pb2fi12kZDznBrvYhPSnB8nmSWjWP58jKuA/viewform"}},[o("button",{staticClass:"btn btn-primary m-2"},[t._v("Segnala Dati Ospedalieri")])]),o("a",{attrs:{href:"https://docs.google.com/forms/d/e/1FAIpQLSd6_80C6IPNAyyMrIM5Z6MoUMtmTiEi56Ex9H_4rFvkgp9CvQ/viewform"}},[o("button",{staticClass:"btn btn-primary m-2"},[t._v("Voglio Partecipare")])])])}],s=function(){var t=this,e=t.$createElement,o=t._self._c||e;return o("div",{staticStyle:{height:"85vh",width:"100%",position:"relative"}},[o("l-map",{ref:"map",staticStyle:{height:"100%"},attrs:{zoom:t.zoom,center:t.center,options:t.mapOptions},on:{"update:center":t.centerUpdate,"update:zoom":t.zoomUpdate}},[o("l-tile-layer",{attrs:{url:t.url,attribution:t.attribution}}),o("l-control",{staticClass:"leaflet-bar leaflet-control",attrs:{title:"Center map on your location",disableClickPropagation:"",position:"topleft"}},[o("a",{staticClass:"map-control location-control",on:{click:function(e){return t.goToCurrentLocation()}}},[o("i",{staticClass:"material-icons"},[t._v(t._s(t.locationIcon))])])]),o("l-control",{staticClass:"leaflet-bar leaflet-control",attrs:{title:"Data",disableClickPropagation:"",position:"topleft"}},[o("a",{staticClass:"map-control data-control",attrs:{href:"https://github.com/ioconto/covid19"}},[o("i",{staticClass:"material-icons"},[t._v("storage")])])]),o("transition",{attrs:{name:"slide"}},[o("l-control",{directives:[{name:"show",rawName:"v-show",value:t.showLegend,expression:"showLegend"}],attrs:{title:"Legenda",disableClickPropagation:"",position:"bottomleft"}},[o("a",{staticClass:"legend-container"},[o("map-legend")],1)])],1),o("l-control",{staticClass:"leaflet-bar leaflet-control",class:t.showLegend?"rotate-0":"rotate-180",attrs:{title:"Legenda",disableClickPropagation:"",position:"bottomleft"}},[o("a",{staticClass:"map-control data-control",on:{click:function(e){return t.toggleLegend()}}},[o("i",{staticClass:"material-icons"},[t._v("keyboard_arrow_down")])])])],1)],1)},l=[],c=o("e11e"),p=o.n(c),d=o("2699"),u=o("a40a"),f=o("2253"),m=function(){var t=this,e=t.$createElement,o=t._self._c||e;return o("b-card",{staticClass:"card shadow-lg"},[o("b-row",{attrs:{"align-v":"center"}},[o("b-col",{attrs:{cols:"auto"}},[o("div",{staticClass:"circle",staticStyle:{"background-color":"lightgreen"}})]),o("b-col",[o("div",{staticClass:"text"},[t._v("Decessi inferiori agli anni precedenti")])])],1),o("b-row",{attrs:{"align-v":"center"}},[o("b-col",{attrs:{cols:"auto"}},[o("div",{staticClass:"circle",staticStyle:{"background-color":"lightpink"}})]),o("b-col",[o("div",{staticClass:"text"},[t._v("Decessi aumentati fino al 50%")])])],1),o("b-row",{attrs:{"align-v":"center"}},[o("b-col",{attrs:{cols:"auto"}},[o("div",{staticClass:"circle",staticStyle:{"background-color":"hotpink"}})]),o("b-col",[o("div",{staticClass:"text"},[t._v("Decessi aumentati fino al 75%")])])],1),o("b-row",{attrs:{"align-v":"center"}},[o("b-col",{attrs:{cols:"auto"}},[o("div",{staticClass:"circle",staticStyle:{"background-color":"magenta"}})]),o("b-col",[o("div",{staticClass:"text"},[t._v("Decessi aumentati fino al 100%")])])],1),o("b-row",{attrs:{"align-v":"center"}},[o("b-col",{attrs:{cols:"auto"}},[o("div",{staticClass:"circle",staticStyle:{"background-color":"red"}})]),o("b-col",[o("div",{staticClass:"text"},[t._v("Decessi più del doppio degli anni precedenti")])])],1),o("b-row",{attrs:{"align-v":"center"}},[o("b-col",{attrs:{cols:"auto"}},[o("div",{staticClass:"circle",staticStyle:{"background-color":"purple"}})]),o("b-col",[o("div",{staticClass:"text"},[t._v("In marzo più dell'1% della popolazione è deceduta")])])],1)],1)},h=[],g={},b=g,v=(o("a401"),o("2877")),w=Object(v["a"])(b,m,h,!1,null,"22edb6ea",null),_=w.exports,y={props:{flyTo:{type:Array,default:()=>[]},names:{type:Array,default:()=>[]}},components:{LMap:d["a"],LTileLayer:u["a"],LControl:f["a"],MapLegend:_},data(){return{geoJson:null,zoom:7,center:[44,11],url:"https://{s}.tile.openstreetmap.org/{z}/{x}/{y}.png",attribution:'&copy; <a href="https://openstreetmap.org/copyright">OpenStreetMap contributors</a>',mapOptions:{zoomSnap:.5},showMap:!0,showLegend:!0,locationIcon:"gps_not_fixed"}},async created(){const t=await fetch("https://raw.githubusercontent.com/ioconto/covid19/master/opendata/current/it-total-deaths.json");this.geoJson=await t.json(),this.addGeoJson()},watch:{flyTo(){0!==this.flyTo.length&&this.$refs.map.mapObject.flyTo({lat:this.flyTo[1],lng:this.flyTo[0]},12)}},methods:{zoomUpdate(t){this.currentZoom=t},centerUpdate(t){this.currentCenter=t},showLongText(){this.showParagraph=!this.showParagraph},innerClick(){alert("Click!")},addGeoJson(){p.a.geoJSON(this.geoJson,{pointToLayer:(t,e)=>p.a.circleMarker(e,this.customCircleMarker(t.properties)),onEachFeature:this.onEachFeature}).addTo(this.$refs.map.mapObject)},onEachFeature(t,e){if(t.properties){let o=100*t.properties.ratio;o=o>0?"+"+o:o;let a='<a href="http://chart.ioconto.org/IoContoCompChart/drawCityChart.htm?city='+t.properties.istatId+'" target="_blank"><i class="material-icons">insert_chart_outlined</i><strong>'+t.properties.name+"</strong></a><br />";a+="Decessi Marzo 2020: "+t.properties.deaths+" ("+o+"%)<br />",a+="Decessi Marzo 2015-19: "+t.properties.avgDeaths+"<br />",a+="Differenza: "+t.properties.delta+"<br />",a+="Popolazione: "+t.properties.population.toLocaleString()+"<br />",a+="Pecentuale decessi su popolazione: "+t.properties.mortality+"%<br />",e.bindPopup(a)}},customCircleMarker(t){var e={radius:7,color:"#fff",weight:1,opacity:1,fillOpacity:.8,fillColor:t._umap_options.color};return e},goToCurrentLocation(){navigator.geolocation&&navigator.geolocation.getCurrentPosition(t=>{this.$refs.map.mapObject.flyTo({lat:t.coords.latitude,lng:t.coords.longitude},12)}),this.locationIcon="gps_fixed"},toggleLegend(){this.showLegend=!this.showLegend}}},C=y,k=(o("a982"),Object(v["a"])(C,s,l,!1,null,"3cb85dae",null)),L=k.exports,S=o("d45f"),O={name:"App",metaInfo:{title:"ioConto",titleTemplate:"%s | #uniticelafaremo",meta:[{property:"og:url",content:"https://www.ioconto.org"},{property:"og:type",content:"article"},{property:"og:title",content:"ioConto"},{property:"og:description",content:"Open Data per covid9"},{property:"og:image",content:"https://www.ioconto.org/assets/mappa.jpg"},{property:"og:type",content:"https://www.ioconto.org"},{name:"description",content:"ioConto - Open Data per Covid19"}]},components:{Map:L,VueBootstrapTypeahead:S["a"]},data(){return{geoJson:{},locations:[],selection:"",names:[],loc:{},displayName:""}},async beforeCreate(){const t=await fetch("https://raw.githubusercontent.com/ioconto/covid19/master/opendata/current/it-municipalities.json");this.geoJson=await t.json(),this.locations=this.geoJson.map(t=>({name:t.name,coordinates:t.coordinates,data:t.data,anpr:t.anpr}))},methods:{select(){const t=this.locations.find(t=>t.name===this.selection);t.data?this.loc=t:t.anpr?(this.displayName=t.name,this.$bvModal.show("anpr")):(this.displayName=t.name,this.$bvModal.show("no-anpr"))}}},z=O,j=(o("d18b"),Object(v["a"])(z,n,r,!1,null,null,null)),I=j.exports,A=o("a584"),P=o("5f5b"),x=o("a925");function N(){const t=o("511f"),e={};return t.keys().forEach(o=>{const a=o.match(/([A-Za-z0-9-_]+)\./i);if(a&&a.length>1){const i=a[1];e[i]=t(o)}}),e}a["default"].use(x["a"]);var D=new x["a"]({locale:Object({NODE_ENV:"production",BASE_URL:"/"}).VUE_APP_I18N_LOCALE||"en",fallbackLocale:Object({NODE_ENV:"production",BASE_URL:"/"}).VUE_APP_I18N_FALLBACK_LOCALE||"en",messages:N()}),M=o("8c4f");const E=[{path:"/",component:L}];a["default"].use(M["a"]);var T=new M["a"]({routes:E});o("6cc5"),o("f9e3"),o("2dd8");delete c["Icon"].Default.prototype._getIconUrl,c["Icon"].Default.mergeOptions({iconRetinaUrl:o("584d"),iconUrl:o("6397"),shadowUrl:o("e2b9")}),a["default"].use(i["a"]),a["default"].use(P["a"]),a["default"].use(P["a"]),a["default"].use(A["a"],{config:{id:"UA-164557154-1"}}),a["default"].config.productionTip=!1,new a["default"]({i18n:D,router:T,render:t=>t(I)}).$mount("#app")},"147a":function(t){t.exports=JSON.parse('{"message":"Hello World"}')},"48fc":function(t,e,o){},"511f":function(t,e,o){var a={"./en.json":"147a"};function i(t){var e=n(t);return o(e)}function n(t){if(!o.o(a,t)){var e=new Error("Cannot find module '"+t+"'");throw e.code="MODULE_NOT_FOUND",e}return a[t]}i.keys=function(){return Object.keys(a)},i.resolve=n,t.exports=i,i.id="511f"},"7f04":function(t,e,o){},"8e02":function(t,e,o){t.exports=o.p+"img/logo-ioconto-64.da6ea740.png"},a401:function(t,e,o){"use strict";var a=o("fde9"),i=o.n(a);i.a},a982:function(t,e,o){"use strict";var a=o("7f04"),i=o.n(a);i.a},d18b:function(t,e,o){"use strict";var a=o("48fc"),i=o.n(a);i.a},fde9:function(t,e,o){}});
//# sourceMappingURL=app.edd340bd.js.map